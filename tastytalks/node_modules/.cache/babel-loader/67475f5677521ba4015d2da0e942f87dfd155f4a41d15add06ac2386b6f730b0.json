{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted, ref } from 'vue';\nimport { collection, getDocs } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const router = useRouter();\n    const recipes = ref([]);\n    const selectedRegion = ref('');\n    const selectedCourse = ref('');\n    const selectedSeason = ref('');\n    const selectedSpecialDiet = ref('');\n    const selectedHoliday = ref('');\n    const fetchRecipes = async () => {\n      const recipesCollection = collection(db, 'recipes');\n      const querySnapshot = await getDocs(recipesCollection);\n      const filteredRecipes = [];\n      querySnapshot.forEach(doc => {\n        const recipeData = doc.data();\n\n        // Check if the recipe matches all selected filters\n        const matchesFilters = (selectedRegion.value === '' || recipeData.regionID === selectedRegion.value) && (selectedCourse.value === '' || recipeData.course === selectedCourse.value) && (selectedSeason.value === '' || recipeData.season === selectedSeason.value) && (selectedSpecialDiet.value === '' || recipeData.tags.some(tag => tag.name === selectedSpecialDiet.value)) && (selectedHoliday.value === '' || recipeData.tags.some(tag => tag.name === selectedHoliday.value));\n        if (matchesFilters) {\n          filteredRecipes.push({\n            id: doc.id,\n            ...recipeData\n          });\n        }\n      });\n      recipes.value = filteredRecipes;\n    };\n    const goToRecipe = recipeId => {\n      router.push({\n        name: 'Recipe',\n        params: {\n          id: recipeId\n        }\n      });\n    };\n    onMounted(() => {\n      fetchRecipes();\n    });\n    return {\n      recipes,\n      goToRecipe,\n      selectedRegion,\n      selectedCourse,\n      selectedSeason,\n      selectedSpecialDiet,\n      selectedHoliday,\n      fetchRecipes\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","collection","getDocs","db","useRouter","setup","router","recipes","selectedRegion","selectedCourse","selectedSeason","selectedSpecialDiet","selectedHoliday","fetchRecipes","recipesCollection","querySnapshot","filteredRecipes","forEach","doc","recipeData","data","matchesFilters","value","regionID","course","season","tags","some","tag","name","push","id","goToRecipe","recipeId","params"],"sources":["C:\\Users\\willa\\Documents\\GitHub\\ITSC-3155\\TastyTalks\\tastytalks\\src\\views\\RecipeFeed.vue"],"sourcesContent":["<!-- RecipeFeed.vue -->\r\n<template>\r\n  <main>\r\n\r\n    <div class=\"post-feed\">\r\n      \r\n      <div class=\"centered-container\">\r\n          <h1 class=\"cylinder-heading\">Recipes</h1>\r\n      </div>\r\n\r\n      <p class=\"page-instructions\">Filter recipes by region, course, season, holiday, or dietary restrictions to find a dilicious recipe. <br>Once you find an intriguing dish, click to learn more and contribute to the community conversation.</p>\r\n      \r\n\r\n\r\n\r\n\r\n      <!-- Filter Section -->\r\n      <div class=\"filter-container\">\r\n        <!-- Region Filter -->\r\n        <label for=\"region\" class= \"filter-label\">Region</label>\r\n        <select v-model=\"selectedRegion\" @change=\"fetchRecipes\">\r\n          <option value=\"\">Select Region</option>\r\n          <option value=\"1\">Asia-Pacific</option>\r\n            <option value=\"2\">Caribbean</option>\r\n            <option value=\"3\">Central America</option>\r\n            <option value=\"4\">Central Asia</option>\r\n            <option value=\"5\">Eastern Europe</option>\r\n            <option value=\"6\">Middle East</option>\r\n            <option value=\"7\">Nordic Countries</option>\r\n            <option value=\"8\">North America</option>\r\n            <option value=\"9\">Northern Africa</option>\r\n            <option value=\"10\">Oceania</option>\r\n            <option value=\"11\">Southern Africa</option>\r\n            <option value=\"12\">South America</option>\r\n            <option value=\"13\">Southeast Asia</option>\r\n            <option value=\"14\">Western Europe</option>\r\n            <!-- Add more options for other regions -->\r\n        </select>\r\n\r\n        <!-- Course Filter -->\r\n        <label for=\"course\" class= \"filter-label\">Course</label>\r\n        <select v-model=\"selectedCourse\" @change=\"fetchRecipes\">\r\n          <option value=\"\">Select Course</option>\r\n          <option value=\"Starter\">Starter</option>\r\n          <option value=\"Entrée\">Entrée</option>\r\n          <option value=\"Dessert\">Dessert</option>\r\n          <!-- Add more options for other holidays -->\r\n        </select>\r\n\r\n        <!-- Season Filter -->\r\n        <label for=\"specialDiet\" class= \"filter-label\">Season</label>\r\n        <select v-model=\"selectedSpecialDiet\" @change=\"fetchRecipes\">\r\n          <option value=\"\">Select Special Diet</option>\r\n          <option value=\"Spring\">Spring</option>\r\n          <option value=\"Summer\">Summer</option>\r\n          <option value=\"Fall\">Fall</option>\r\n          <option value=\"Winter\">Winter</option>\r\n          <!-- Add more options for other special diets -->\r\n        </select>\r\n\r\n        <!-- Holiday Filter -->\r\n        <label for=\"holiday\" class= \"filter-label\">Holiday</label>\r\n        <select v-model=\"selectedHoliday\" @change=\"fetchRecipes\">\r\n          <option value=\"\">Select Holiday</option>\r\n          <option value=\"Christmas\">Christmas</option>\r\n          <option value=\"Easter\">Easter</option>\r\n          <option value=\"Halloween\">Halloween</option>\r\n          <option value=\"Independence Day\">Independence Day</option>\r\n          <option value=\"Thanksgiving\">Thanksgiving</option>\r\n          <option value=\"Valentine's Day\">Valentine's Day</option>\r\n          <!-- Add more options for other holidays -->\r\n        </select>\r\n\r\n        <!-- Special Diets Filter -->\r\n        <label for=\"specialDiet\" class= \"filter-label\">Dietary Restrictions</label>\r\n        <select v-model=\"selectedSpecialDiet\" @change=\"fetchRecipes\">\r\n          <option value=\"\">Select Dietary Restrictions</option>\r\n          <option value=\"Gluten-Free\">Gluten-Free</option>\r\n          <option value=\"Vegetarian\">Vegetarian</option>\r\n          <option value=\"Vegan\">Vegan</option>\r\n          <!-- Add more options for other special diets -->\r\n        </select>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      <div class=\"post-grid\">\r\n        <div v-for=\"recipe in recipes\" :key=\"recipe.id\" class=\"post-item\" @click=\"goToRecipe(recipe.id)\"> <!--  -->\r\n          <div class=\"post-content\">\r\n            <h2 class=\"recipe-title\">{{ recipe.title }}</h2>\r\n            <p>{{ recipe.instructions }}</p>\r\n            <img :src=\"recipe.image\" alt=\"Recipe Image\" style=\"max-height:80px; max-width:100%;\">\r\n            \r\n            <!-- Add more details you want to display -->\r\n          \r\n          </div>\r\n          <!-- Display tags -->\r\n          <div class=\"tags\">\r\n            <strong>Tags:</strong>\r\n            <span v-for=\"tag in recipe.tags\" :key=\"tag.name\" class=\"tag\">{{ tag.name }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n\r\n    </div>\r\n\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from 'vue';\r\nimport { collection, getDocs } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const recipes = ref([]);\r\n    const selectedRegion = ref('');\r\n    const selectedCourse = ref('');\r\n    const selectedSeason = ref('');\r\n    const selectedSpecialDiet = ref('');\r\n    const selectedHoliday = ref('');\r\n\r\n    const fetchRecipes = async () => {\r\n      const recipesCollection = collection(db, 'recipes');\r\n      const querySnapshot = await getDocs(recipesCollection);\r\n\r\n      const filteredRecipes = [];\r\n\r\n      querySnapshot.forEach((doc) => {\r\n        const recipeData = doc.data();\r\n\r\n        // Check if the recipe matches all selected filters\r\n        const matchesFilters =\r\n          (selectedRegion.value === '' || recipeData.regionID === selectedRegion.value) &&\r\n          (selectedCourse.value === '' || recipeData.course === selectedCourse.value) &&\r\n          (selectedSeason.value === '' || recipeData.season === selectedSeason.value) &&\r\n          (selectedSpecialDiet.value === '' || recipeData.tags.some((tag) => tag.name === selectedSpecialDiet.value)) &&\r\n          (selectedHoliday.value === '' || recipeData.tags.some((tag) => tag.name === selectedHoliday.value));\r\n\r\n        if (matchesFilters) {\r\n          filteredRecipes.push({\r\n            id: doc.id,\r\n            ...recipeData,\r\n          });\r\n        }\r\n      });\r\n\r\n      recipes.value = filteredRecipes;\r\n    };\r\n\r\n    const goToRecipe = (recipeId) => {\r\n      router.push({ name: 'Recipe', params: { id: recipeId } });\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchRecipes();\r\n    });\r\n\r\n    return {\r\n      recipes,\r\n      goToRecipe,\r\n      selectedRegion,\r\n      selectedCourse,\r\n      selectedSeason,\r\n      selectedSpecialDiet,\r\n      selectedHoliday,\r\n      fetchRecipes,\r\n    };\r\n  },\r\n  \r\n\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n\r\n.filter-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 25px;\r\n  text-align: center;\r\n}\r\n\r\n\r\n.filter-select {\r\n  margin-right: 10px;\r\n}\r\n\r\n.tag-dropdown {\r\n  position: relative;\r\n  margin-right: 10px;\r\n}\r\n\r\n.post-feed {\r\nmax-width: 1200px;\r\nmargin: 0 auto;\r\n}\r\n\r\n.post-grid {\r\ndisplay: grid;\r\ngrid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\ngap: 20px;\r\n}\r\n\r\n.post-item {\r\ndisplay: flex;\r\nflex-direction: column;\r\nbox-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\r\npadding: 20px;\r\nborder-radius: 8px;\r\nheight: 275px;\r\nwidth: 375px;\r\nbackground-color: #bbc9f1;\r\ntransition: transform 0.3s ease-in-out;\r\n}\r\n\r\n.post-content {\r\n  flex: 1; /* Allow the content to grow and take the available space */\r\n}\r\n\r\n.post-item:hover {\r\ntransform: scale(1.05);\r\n}\r\n\r\n/* Used for \"Tags:\" label before tags*/\r\n.tags strong {\r\n  margin-right: 8px; \r\n  margin-top: auto;\r\n  font-size: 16px;\r\n  font-family: 'Helvetica', sans-serif;\r\n  color:black\r\n}\r\n\r\n/* Format for tag lists in recipe boxes*/\r\n.tags .tag { \r\n  display: inline-block;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n  margin-right: 8px; \r\n  padding: 3px;\r\n  background-color: rgb(104, 150, 56);\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  color: #fff4ba;\r\n  border-radius: 2px;\r\n}\r\n\r\n/* background-color: rgb(104, 150, 56);\r\n  border-radius: 10px;\r\n  color: #FADF54; */\r\n\r\n\r\n/* Import title's font */\r\n@font-face {\r\n    font-family: 'Arturo';\r\n    src: url('@/assets/fonts/Arturo-BoldItalic\\ Trial.ttf') format('truetype');\r\n  } \r\n\r\n  /* Font and format for text under page title*/\r\n.page-instructions {\r\n  text-align: center;\r\n  padding: 22px;\r\n  font-size: 16px;\r\n  font-family: 'Helvetica', sans-serif;\r\n}\r\n\r\n/* For recipe title in recipe feed boxes*/\r\n.recipe-title {\r\n  margin-bottom: 10px;\r\n  font-size: 26px;\r\n  font-weight: bold;\r\n  font-family: 'Helvetica', sans-serif;\r\n}\r\n\r\n</style>"],"mappings":";AAkHA,SAASA,SAAS,EAAEC,GAAE,QAAS,KAAK;AACpC,SAASC,UAAU,EAAEC,OAAM,QAAS,oBAAoB;AACxD,SAASC,EAAC,QAAS,aAAa;AAChC,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIF,SAAS,CAAC,CAAC;IAC1B,MAAMG,OAAM,GAAIP,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMQ,cAAa,GAAIR,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMS,cAAa,GAAIT,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMU,cAAa,GAAIV,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMW,mBAAkB,GAAIX,GAAG,CAAC,EAAE,CAAC;IACnC,MAAMY,eAAc,GAAIZ,GAAG,CAAC,EAAE,CAAC;IAE/B,MAAMa,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,MAAMC,iBAAgB,GAAIb,UAAU,CAACE,EAAE,EAAE,SAAS,CAAC;MACnD,MAAMY,aAAY,GAAI,MAAMb,OAAO,CAACY,iBAAiB,CAAC;MAEtD,MAAME,eAAc,GAAI,EAAE;MAE1BD,aAAa,CAACE,OAAO,CAAEC,GAAG,IAAK;QAC7B,MAAMC,UAAS,GAAID,GAAG,CAACE,IAAI,CAAC,CAAC;;QAE7B;QACA,MAAMC,cAAa,GACjB,CAACb,cAAc,CAACc,KAAI,KAAM,EAAC,IAAKH,UAAU,CAACI,QAAO,KAAMf,cAAc,CAACc,KAAK,MAC3Eb,cAAc,CAACa,KAAI,KAAM,EAAC,IAAKH,UAAU,CAACK,MAAK,KAAMf,cAAc,CAACa,KAAK,MACzEZ,cAAc,CAACY,KAAI,KAAM,EAAC,IAAKH,UAAU,CAACM,MAAK,KAAMf,cAAc,CAACY,KAAK,MACzEX,mBAAmB,CAACW,KAAI,KAAM,EAAC,IAAKH,UAAU,CAACO,IAAI,CAACC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAG,KAAMlB,mBAAmB,CAACW,KAAK,CAAC,MACzGV,eAAe,CAACU,KAAI,KAAM,EAAC,IAAKH,UAAU,CAACO,IAAI,CAACC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAG,KAAMjB,eAAe,CAACU,KAAK,CAAC,CAAC;QAErG,IAAID,cAAc,EAAE;UAClBL,eAAe,CAACc,IAAI,CAAC;YACnBC,EAAE,EAAEb,GAAG,CAACa,EAAE;YACV,GAAGZ;UACL,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MAEFZ,OAAO,CAACe,KAAI,GAAIN,eAAe;IACjC,CAAC;IAED,MAAMgB,UAAS,GAAKC,QAAQ,IAAK;MAC/B3B,MAAM,CAACwB,IAAI,CAAC;QAAED,IAAI,EAAE,QAAQ;QAAEK,MAAM,EAAE;UAAEH,EAAE,EAAEE;QAAS;MAAE,CAAC,CAAC;IAC3D,CAAC;IAEDlC,SAAS,CAAC,MAAM;MACdc,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO;MACLN,OAAO;MACPyB,UAAU;MACVxB,cAAc;MACdC,cAAc;MACdC,cAAc;MACdC,mBAAmB;MACnBC,eAAe;MACfC;IACF,CAAC;EACH;AAGF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}